cvalue$EcogPtTotal <- mean(wide_dat$EcogPtTotal_0, na.rm=TRUE) + 2* sd(wide_dat$EcogPtTotal_0, na.rm = TRUE)
long_dat$EcogPtTotal_cut <- ifelse(long_dat$EcogPtTotal > cvalue$EcogPtTotal, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogPtTotal_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogPtTotal <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogPtTotal_cut) ~ thirtile, data = .)
logrank_test$EcogPtTotal
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogPtTotal_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogPtTotal_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPDivatt <- mean(wide_dat$EcogSPDivatt_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPDivatt_0, na.rm = TRUE)
long_dat$EcogSPDivatt_cut <- ifelse(long_dat$EcogSPDivatt > cvalue$EcogSPDivatt, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPDivatt_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPDivatt <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPDivatt_cut) ~ thirtile, data = .)
logrank_test$EcogSPDivatt
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPDivatt_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPDivatt_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPLang <- mean(wide_dat$EcogSPLang_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPLang_0, na.rm = TRUE)
long_dat$EcogSPLang_cut <- ifelse(long_dat$EcogSPLang > cvalue$EcogSPLang, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPLang_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPLang <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPLang_cut) ~ thirtile, data = .)
logrank_test$EcogSPLang
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPLang_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPLang_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPMem <- mean(wide_dat$EcogSPMem_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPMem_0, na.rm = TRUE)
long_dat$EcogSPMem_cut <- ifelse(long_dat$EcogSPMem > cvalue$EcogSPMem, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPMem_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPMem <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPMem_cut) ~ thirtile, data = .)
logrank_test$EcogSPMem
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPMem_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPMem_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPOrgan <- mean(wide_dat$EcogSPOrgan_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPOrgan_0, na.rm = TRUE)
long_dat$EcogSPOrgan_cut <- ifelse(long_dat$EcogSPOrgan > cvalue$EcogSPOrgan, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPOrgan_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPOrgan <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPOrgan_cut) ~ thirtile, data = .)
logrank_test$EcogSPOrgan
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPOrgan_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPOrgan_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPPlan <- mean(wide_dat$EcogSPPlan_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPPlan_0, na.rm = TRUE)
long_dat$EcogSPPlan_cut <- ifelse(long_dat$EcogSPPlan > cvalue$EcogSPPlan, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPPlan_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPPlan <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPPlan_cut) ~ thirtile, data = .)
logrank_test$EcogSPPlan
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPPlan_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPPlan_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPVisspat <- mean(wide_dat$EcogSPVisspat_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPVisspat_0, na.rm = TRUE)
long_dat$EcogSPVisspat_cut <- ifelse(long_dat$EcogSPVisspat > cvalue$EcogSPVisspat, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPVisspat_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPVisspat <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPVisspat_cut) ~ thirtile, data = .)
logrank_test$EcogSPVisspat
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPVisspat_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPVisspat_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$EcogSPTotal <- mean(wide_dat$EcogSPTotal_0, na.rm=TRUE) + 2* sd(wide_dat$EcogSPTotal_0, na.rm = TRUE)
long_dat$EcogSPTotal_cut <- ifelse(long_dat$EcogSPTotal > cvalue$EcogSPTotal, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), EcogSPTotal_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$EcogSPTotal <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), EcogSPTotal_cut) ~ thirtile, data = .)
logrank_test$EcogSPTotal
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(EcogSPTotal_cut)),
aes(x = as.integer(VISCODE), fill = factor(EcogSPTotal_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
View(long_dat)
cvalue$ADASQ4
mean(long_dat$ADASQ4)
max(long_dat$ADASQ4)
max(wide_dat$ADASQ4_0)
mean(wide_dat$ADASQ4_0, na.rm=TRUE)
2* sd(wide_dat$ADASQ4_0, na.rm = TRUE)
hist(long_dat$ADASQ4)
hist(wide_dat$ADASQ4_0)
cvalue$FAQ
#cvalue$FAQ <- mean(wide_dat$FAQ_0, na.rm=TRUE) + 2* sd(wide_dat$FAQ_0, na.rm = TRUE)
cvalue$FAQ <- 9
long_dat$FAQ_cut <- ifelse(long_dat$FAQ > cvalue$FAQ, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$FAQ <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
logrank_test$FAQ
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(FAQ_cut)),
aes(x = as.integer(VISCODE), fill = factor(FAQ_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
#cvalue$FAQ <- mean(wide_dat$FAQ_0, na.rm=TRUE) + 2* sd(wide_dat$FAQ_0, na.rm = TRUE)
cvalue$FAQ <- 9
long_dat$FAQ_cut <- ifelse(long_dat$FAQ > cvalue$FAQ, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$FAQ <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
logrank_test$FAQ
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(FAQ_cut)),
aes(x = as.integer(VISCODE), fill = factor(FAQ_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
mean(long_dat$FAQ)
mean(long_dat$FAQ, rm.NA=TRUE)
mean(long_dat$FAQ, na.rm=TRUE)
max(long_dat$FAQ, na.rm=TRUE)
min(long_dat$FAQ, na.rm=TRUE)
#cvalue$FAQ <- mean(wide_dat$FAQ_0, na.rm=TRUE) + 2* sd(wide_dat$FAQ_0, na.rm = TRUE)
cvalue$FAQ <- 6
long_dat$FAQ_cut <- ifelse(long_dat$FAQ > cvalue$FAQ, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$FAQ <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
logrank_test$FAQ
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(FAQ_cut)),
aes(x = as.integer(VISCODE), fill = factor(FAQ_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$FAQ <- mean(wide_dat$FAQ_0, na.rm=TRUE) + 2* sd(wide_dat$FAQ_0, na.rm = TRUE)
#cvalue$FAQ <- 6
long_dat$FAQ_cut <- ifelse(long_dat$FAQ > cvalue$FAQ, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$FAQ <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), FAQ_cut) ~ thirtile, data = .)
logrank_test$FAQ
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(FAQ_cut)),
aes(x = as.integer(VISCODE), fill = factor(FAQ_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
cvalue$ADASQ4
