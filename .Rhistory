geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
cvalue$ADASQ4 <- mean(wide_dat$ADASQ4_0, na.rm=TRUE) + 2* sd(wide_dat$ADASQ4_0, na.rm = TRUE)
long_dat$ADASQ4_cut <- ifelse(long_dat$ADASQ4 > cvalue$ADASQ4, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), ADASQ4_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$ADASQ4 <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), ADASQ4_cut) ~ thirtile, data = .)
logrank_test$ADASQ4
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(ADASQ4_cut)),
aes(x = as.integer(VISCODE), fill = factor(ADASQ4_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
cvalue$CDRSB <- mean(wide_dat$CDRSB_0, na.rm=TRUE) + 2* sd(wide_dat$CDRSB_0, na.rm = TRUE)
long_dat$CDRSB_cut <- ifelse(long_dat$CDRSB > cvalue$CDRSB, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), CDRSB_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$CDRSB <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), CDRSB_cut) ~ thirtile, data = .)
logrank_test$CDRSB
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(CDRSB_cut)),
aes(x = as.integer(VISCODE), fill = factor(CDRSB_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
cvalue$DIGITSCOR <- mean(wide_dat$DIGITSCOR_0, na.rm=TRUE) + 2* sd(wide_dat$DIGITSCOR_0, na.rm = TRUE)
long_dat$DIGITSCOR_cut <- ifelse(long_dat$DIGITSCOR > cvalue$DIGITSCOR, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), DIGITSCOR_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$DIGITSCOR <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), DIGITSCOR_cut) ~ thirtile, data = .)
logrank_test$DIGITSCOR
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(DIGITSCOR_cut)),
aes(x = as.integer(VISCODE), fill = factor(DIGITSCOR_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
cvalue$MOCA <- mean(wide_dat$MOCA_0, na.rm=TRUE) + 2* sd(wide_dat$MOCA_0, na.rm = TRUE)
long_dat$MOCA_cut <- ifelse(long_dat$MOCA > cvalue$MOCA, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
View(surv_fit)
View(long_dat)
unique(long_dat$MOCA)
mean(long_dat$MOCA)
mean(long_dat$MOCA, na.rm=TRUE)
long_dat$MOCA_cut <- ifelse(long_dat$MOCA < 26, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
long_dat$MOCA_cut <- ifelse(long_dat$MOCA > 26, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
long_dat$MOCA_cut <- ifelse(long_dat$MOCA < 26, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
long_dat$MOCA_cut <- ifelse(long_dat$MOCA > 26, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#0a77f5", "#021636"), labels = c("0", "1")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add vertical dashed line
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#0a77f5", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Addya  vertical dashed line
long_dat$MOCA_cut <- ifelse(long_dat$MOCA > 26, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test$MOCA <- long_dat %>%
filter(thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MOCA_cut) ~ thirtile, data = .)
logrank_test$MOCA
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#0a77f5", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Addya  vertical dashed line
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MOCA_cut)),
aes(x = as.integer(VISCODE), fill = factor(MOCA_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Addya  vertical dashed line
long_dat$MMSE_cut <- ifelse(long_dat$MMSE < 24, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MMSE_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#bbceed", "#021636", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test <- list()
logrank_test$MMSE <- long_dat %>%
filter(as.integer(VISCODE) <= 9, thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MMSE_cut) ~ thirtile, data = .)
logrank_test$MMSE
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MMSE_cut)),
aes(x = as.integer(VISCODE), fill = factor(MMSE_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
long_dat$MMSE_cut <- ifelse(long_dat$MMSE < 24, 1, 0)
# Fit the Kaplan-Meier estimator
surv_fit <- long_dat %>%
filter(as.integer(VISCODE) <= 9) %>%
survfit(Surv(as.integer(VISCODE), MMSE_cut) ~ thirtile, data = .)
# Create the Kaplan-Meier survival plot
plot(surv_fit,
main = "Kaplan-Meier Survival Curve",
xlab = "Time",
ylab = "Survival Probability",
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2,
xlim = c(0, 10))
legend("bottomleft",
legend = c("Underachiever", "Average", "Overachiever"),
col = c("#021636", "#bbceed", "#0a77f5"),
lwd = 2)
axis(1, lwd = 1)  # Change x-axis thickness
axis(2, lwd = 1)  # Change y-axis thickness
# Log Rank Test
logrank_test <- list()
logrank_test$MMSE <- long_dat %>%
filter(as.integer(VISCODE) <= 9, thirtile != 2) %>%
survdiff(Surv(as.integer(VISCODE), MMSE_cut) ~ thirtile, data = .)
logrank_test$MMSE
# Histogram depicting the number of people measured at each time point by group by outcome
ggplot(long_dat %>% filter(!is.na(MMSE_cut)),
aes(x = as.integer(VISCODE), fill = factor(MMSE_cut))) +
geom_histogram(position = "identity", alpha = 0.6, binwidth = 2) +
scale_fill_manual(values = c("#bbceed", "#021636"), labels = c("Normal Cognition", "Impaired Cognition")) +
facet_wrap(~ thirtile, ncol = 3,
labeller = labeller(thirtile = c("1" = "Underperformed",
"2" = "Average",
"3" = "Overperformed"))) +
labs(title = "Number of observations by time by group by outcome",
x = "Time", y = "Number of participants",
fill = "Legend Title") +
theme_minimal() +
theme(axis.line = element_line(size = 0.5),
plot.title = element_text(hjust = 0.5, face = "bold")) +
geom_vline(xintercept = 9, linetype = "dashed", color = "#940914")  # Add  vertical dashed line
